
# newVitagems

![newVitagems Logo](./assets/logo.png)

## 📋 프로젝트 개요
**newVitagems**는 사원, 관리자, 마스터 사용자가 각자의 역할에 맞게 인사 관리, 출퇴근 내역 조회 및 관리, 사내 공지 확인 등의 기능을 수행할 수 있는 **웹 기반 인사 관리 시스템**입니다. Spring Security와 JWT를 활용해 다양한 권한 및 인증 절차를 구현하고, 사용자의 정보를 안전하게 보호하며 효율적인 관리 기능을 제공합니다.

## 🎯 프로젝트 목적
이 프로젝트는 신입 백엔드 개발자로서 다음과 같은 목표를 가지고 진행하고 있습니다:
- **보안 기초 학습**: Spring Security와 JWT 토큰을 통한 인증 시스템 이해
- **프론트엔드와 백엔드의 연동**: React와 Spring Boot 간의 연동 과정 습득
- **다양한 사용자 권한 환경 제공**: 사원, 관리자, 마스터 권한별로 웹 환경 차별화
- **출퇴근 내역 관리 및 필터 기능 구현**: 다양한 필터와 검색 기능을 통한 데이터 관리

## 📂 트러블슈팅 기록
프로젝트에서 발생한 이슈와 해결 방법에 대한 기록은 [Google 스프레드시트](https://docs.google.com/spreadsheets/d/1Nb_97M9YcioahJCFHYWSwp1VcfJ30NfwhNBgBto9qi0/edit?usp=sharin)에서 확인할 수 있습니다.

## 🚀 주요 기능
### 사원 기능
- **개인정보 수정**: 사원은 본인의 프로필 사진과 개인 정보를 수정할 수 있습니다.
- **출퇴근 내역 조회**: 출퇴근 기록을 조회할 수 있으며, 관리자에게 보고할 수 있습니다.
- **사내 공지 확인**: 회사 내에서 올라온 공지 사항을 확인할 수 있습니다.
- **출퇴근 기록**: 회사 위치의 위도와 경도로부터 1km 이내에 있을 경우 출퇴근 버튼이 활성화됩니다. 출근 시각과 퇴근 시각에 유효 시간 내에 있을 경우에만 버튼이 활성화되며, 시간 외에는 지각, 조퇴, 결근으로 자동 처리됩니다.
- **이메일 인증 시스템**:
  - 이메일 변경 시 **인증 코드**를 입력하여 본인 인증 후 저장하도록 구현했습니다.
  - 백엔드에서 설정한 **유효 시간(타이머)**을 프론트엔드에서 받아와 **실시간으로 타이머**를 보여줌으로써 **사용자 경험**을 개선했습니다.
  - **유효 시간 설정**을 통해, 관리자가 백엔드에서 유효 시간을 수정하면 프론트엔드에도 반영되도록 구현하여 **유지 보수의 편리성**을 높였습니다.

### 관리자 기능
- **사원 정보 조회 및 수정**: 사원들의 정보를 조회하고, 수정할 수 있습니다.
- **출퇴근 내역 관리**: 사원들의 출퇴근 기록을 조회, 수정할 수 있습니다.
- **사원 등록**: 새로운 사원을 등록할 때, **중복된 전화번호는 허용되지 않습니다**.
- **사원 상세 정보 수정**: 관리자나 마스터 권한 사용자는 부서, 직급, 계좌, 주소, 전화번호, 계정 권한을 수정할 수 있으며, 자신의 정보 수정 시에는 프로필 사진, 계좌, 주소, 전화번호, 이메일만 수정 가능합니다.

### 마스터 기능
- **회사 정보 설정**: 마스터는 회사의 위도와 경도, 출퇴근 시각, 유효 시간을 설정하여 저장할 수 있습니다. 이를 통해 사원들이 출퇴근할 때 회사 위치와 설정된 시간을 기준으로 출퇴근이 가능하도록 관리됩니다. API를 통해 주소를 입력하여 위도와 경도를 자동으로 저장할 수 있습니다.
- **출퇴근 관리 규칙 설정**: 출근은 설정된 출근 시각에 유효 시간만큼 앞뒤로 가능하며, 지각 및 결근은 설정 시간 외의 출근 기록에 따라 자동으로 처리됩니다. 퇴근 시각 또한 유효 시간 내에만 기록할 수 있습니다.
- **관리자 역할 수행**: 관리자 역할을 포함하여 회사 정보를 총괄적으로 관리할 수 있습니다.

### 자동 출퇴근 관리 시스템
- **지각 및 결근 처리**: 출근 시각보다 10분 이상 늦을 경우 지각으로 처리하며, 출근 유효 시간이 지나 기록이 없으면 결근으로 자동 처리됩니다.
- **조퇴 처리**: 퇴근 유효 시간보다 1시간 일찍 퇴근하면 조퇴로 처리됩니다.
- **근태 기록 수정**: 근태 상세 기록은 관리자나 마스터가 일괄적으로 수정할 수 있으며, 여러 날짜를 선택해 일괄 수정이 가능합니다.

### JWT 기반
- **JWT 기반 인증 및 권한 분류**:
  - **JWT 토큰**을 활용해 사원, 관리자, 마스터 등 **계정 권한에 따라 접근 권한**을 구분했습니다.
  - 각 권한별로 접근할 수 있는 기능을 **인가 및 인증 시스템**으로 보호하고 있습니다.

## 🛠️ 기술 스택
- **Frontend**: React, Tailwind CSS
- **Backend**: Spring Boot (Java), Spring Security, JWT
- **Database**: MySQL (자동 트리거 설정으로 코드 처리)
- **버전 관리**: Git (GitHub에 업로드하여 관리)

## 💾 이미지 관리
- 사원의 **프로필 사진**을 업로드할 수 있으며, 처음 사진이 없을 경우 **기본 이미지**가 표시됩니다.
- 사원이 자신의 정보를 수정할 때 **프로필 사진**도 변경 가능하며, 사진은 **경로 정보**로 데이터베이스에 저장됩니다.

## 🔐 보안 및 인증
- **Spring Security**로 비밀번호 암호화 및 사용자 인증 처리
- **JWT 토큰**을 이용한 **액세스 토큰**과 **리프레시 토큰** 기반의 인증 시스템 구현
- **이메일 인증**: 이메일 등록 시 유효한 이메일 주소로 인증 코드를 전송하고 일치 시 이메일을 등록합니다. 비밀번호 수정 시에도 이메일을 통해 인증 코드를 전송하여 일치할 경우 최종 수정이 이루어집니다.

## 📅 구현 예정 기능
1. **JWT 관련 기능 개선**:
   - **리프레시 토큰**을 통한 **세션 연장 및 재발급 기능** 추가
   - **로그아웃 시** 세션 및 리프레시 토큰 삭제
   - **엑세스 토큰 만료 시** 자동으로 리프레시 토큰을 사용해 **토큰 재발급 및 로그인 연장**

2. **출퇴근 기록 관리 기능**:
   - **출퇴근 기록 버튼 생성** 및 기록 저장 기능 추가
   - **출퇴근 내역 수정** 및 **일괄 수정 기능** 구현
   - **출근 상태 자동 인식**을 위한 **트랜잭션 기반 로직** 추가

3. **근태 관리 기능**:
   - **근태 정보 상세 페이지** 추가 및 **일괄 정보 수정 기능** 포함
   - **지각, 조퇴, 결근** 처리 및 **일괄 수정 기능** 제공

4. **비밀번호 재설정 및 보안 강화**:
   - **이메일 인증된 사용자만** 비밀번호를 재설정할 수 있도록 로직 구현 예정
   - **퇴사 처리 및 영구 삭제** 기능 추가

---

## 🚀 향후 프로젝트 계획
- 프로젝트의 완성도를 높이기 위해 **추가적인 보안 기능**을 도입하고, 사용자의 편의성을 증대할 수 있는 기능을 점진적으로 개선할 예정입니다.
- **출퇴근 관리 시스템**의 자동화를 통해 업무 효율을 극대화하고, **사용자 인터페이스(UI)**를 더욱 직관적으로 개선할 계획입니다.


## 🌐 UI 구성
- **사이드바 메뉴**: 계정 권한에 따라 보여지는 메뉴가 다르게 구성되며, 각 사용자 역할에 맞는 기능에 접근할 수 있도록 설계되었습니다.

## 📂 프로젝트 구조
```
newVitagems/
├── backend/
│   ├── src/main/java/com/newVitagems
│   ├── src/main/resources/
│   └── build.gradle
├── frontendWeb/
│   ├── src/
│   │   ├── components/
│   │   ├── layouts/
│   │   ├── pages/
│   │   ├── router/
│   │   ├── routes/
│   │   └── App.js
│   ├── public/
│   └── package.json
└── README.md
```

## 🌐 설치 및 실행

### 1. 리포지토리 클론
```bash
git clone https://github.com/dmsp0/newVitagems.git
```

### 2. 프로젝트 실행
추후 이 부분은 [YouTube 영상 링크](#)로 대체될 예정입니다.

### 3. 백엔드 실행 (Gradle)
```bash
./gradlew bootRun
```

### 4. 프론트엔드 실행 (React)
```bash
npm start
```

## 📧 문의
프로젝트와 관련된 문의사항은 [your-email@example.com](mailto:your-email@example.com)으로 연락해주세요.

---

자세한 정보는 [여기](https://gptonline.ai/ko/)에서 확인하세요.
